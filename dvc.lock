schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/deepClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: configs/config.yaml
      md5: 4980800a657f8a3479552487095908dc
      size: 1121
    - path: src/deepClassifier/pipeline/stage_01_data_ingestion.py
      md5: aab2acfad84bc902bc01c0502faeecb3
      size: 849
    outs:
    - path: artifacts/data_ingestion/train
      md5: 55645c3845027c30d44f6b5476e4c09f.dir
      size: 837731676
      nfiles: 933
  prepare_base_model:
    cmd: python src/deepClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: configs/config.yaml
      md5: 4980800a657f8a3479552487095908dc
      size: 1121
    - path: src/deepClassifier/pipeline/stage_02_prepare_base_model.py
      md5: 019613a3d9c7974162821ef659bb0c99
      size: 1019
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 300
        - 300
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      md5: d907c7ec7a588f8935369ebd2e679816.dir
      size: 197954856
      nfiles: 2
  training:
    cmd: python src/deepClassifier/pipeline/stage_03_training.py
    deps:
    - path: artifacts/data_ingestion/train
      md5: 55645c3845027c30d44f6b5476e4c09f.dir
      size: 837731676
      nfiles: 933
    - path: artifacts/prepare_base_model
      md5: d907c7ec7a588f8935369ebd2e679816.dir
      size: 197954856
      nfiles: 2
    - path: configs/config.yaml
      md5: 4980800a657f8a3479552487095908dc
      size: 1121
    - path: src/deepClassifier/components/prepare_callback.py
      md5: f34cc929aae6d1517636f5eda6244613
      size: 975
    - path: src/deepClassifier/pipeline/stage_03_training.py
      md5: 0470102058e267b713265fd2eafa318c
      size: 1196
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 32
        EPOCHS: 25
        IMAGE_SIZE:
        - 300
        - 300
        - 3
    outs:
    - path: artifacts/training/model.h5
      md5: fd3c40e2f9aa5e5f959b8b5e2ca2751b
      size: 119992840
  evaluation:
    cmd: python src/deepClassifier/pipeline/stage_04_evaluation.py
    deps:
    - path: artifacts/data_ingestion/train
      md5: 55645c3845027c30d44f6b5476e4c09f.dir
      size: 837731676
      nfiles: 933
    - path: artifacts/training/model.h5
      md5: fd3c40e2f9aa5e5f959b8b5e2ca2751b
      size: 119992840
    - path: configs/config.yaml
      md5: 4980800a657f8a3479552487095908dc
      size: 1121
    - path: src/deepClassifier/pipeline/stage_04_evaluation.py
      md5: 255acca5a74a5f7a5aeb7e0244b8c24c
      size: 906
    params:
      params.yaml:
        BATCH_SIZE: 32
        IMAGE_SIZE:
        - 300
        - 300
        - 3
    outs:
    - path: scores.json
      md5: 96fb5538d255b1fa6a614ecae14d95ce
      size: 193
